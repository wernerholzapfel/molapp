<ion-header>
  <ion-navbar>
    <ion-title>Je voorspellingen</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding *ngIf="auth.authenticated()">
  <form [formGroup]="voorspelling" (ngSubmit)="logForm()">
    <ion-item text-center>
      <img *ngIf='activeMol' class="mollen" [ngClass]="{'active' : kiesMol}"
           [src]="'http://wieisdemol.avrotros.nl/typo3conf/ext/widm_resources/Resources/Public/GFX/avatar_' + activeMol?.name.toLowerCase() + '.jpg'"
           (click)="setKiesMol()">
      <img *ngIf="!activeMol" class="mollen" [ngClass]="{'active' : kiesAfvaller}"
           [src]="'https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTqUvVfY_oOgWd9dwvpempwNIM1wVyBhLVwshX_-53d0_vg1s2K'"
           (click)="setKiesMol()">
      <img *ngIf="activeWinnaar" class="mollen" [ngClass]="{'active' : kiesWinnaar}"
           [src]="'http://wieisdemol.avrotros.nl/typo3conf/ext/widm_resources/Resources/Public/GFX/avatar_' + activeWinnaar?.name.toLowerCase() + '.jpg'"
           (click)="setKiesWinnaar()">
      <img *ngIf="!activeWinnaar" class="mollen" [ngClass]="{'active' : kiesAfvaller}"
           [src]="'https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTqUvVfY_oOgWd9dwvpempwNIM1wVyBhLVwshX_-53d0_vg1s2K'"
           (click)="setKiesWinnaar()">
      <img *ngIf="activeAfvaller" class="mollen" [ngClass]="{'active' : kiesAfvaller}"
           [src]="'http://wieisdemol.avrotros.nl/typo3conf/ext/widm_resources/Resources/Public/GFX/avatar_' + activeAfvaller?.name.toLowerCase() + '.jpg'"
           (click)="setKiesAfvaller()">
      <img *ngIf="!activeAfvaller" class="mollen" [ngClass]="{'active' : kiesAfvaller}"
           [src]="'https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTqUvVfY_oOgWd9dwvpempwNIM1wVyBhLVwshX_-53d0_vg1s2K'"
           (click)="setKiesAfvaller()">
    </ion-item>
    <ion-item *ngIf="kiesMol">
      De Mol
      <ion-scroll scrollX="true">
        <img class="mollen active" *ngFor="let mol of mollen"
             [src]="'http://wieisdemol.avrotros.nl/typo3conf/ext/widm_resources/Resources/Public/GFX/avatar_' + mol?.name.toLowerCase() + '.jpg'"
             (click)="setActiveMol(mol)">
      </ion-scroll>
    </ion-item>
    <ion-item *ngIf="kiesWinnaar">
      Winnaar
      <ion-scroll scrollX="true">
        <img class="mollen active" *ngFor="let winnaar of winnaars"
             [src]="'http://wieisdemol.avrotros.nl/typo3conf/ext/widm_resources/Resources/Public/GFX/avatar_' + winnaar?.name.toLowerCase() + '.jpg'"
             (click)="setWinnaar(winnaar)">
      </ion-scroll>
    </ion-item>
    <ion-item *ngIf="kiesAfvaller">
      Afvaller
      <ion-scroll scrollX="true">
        <img class="mollen active" *ngFor="let afvaller of afvallers"
             [src]="'http://wieisdemol.avrotros.nl/typo3conf/ext/widm_resources/Resources/Public/GFX/avatar_' + afvaller?.name.toLowerCase() + '.jpg'"
             (click)="setAfvaller(afvaller)">
      </ion-scroll>
    </ion-item>
    <div text-center>

      <button [disabled]="kiesMol" ion-button type="button" outline (click)="setPreviousState()"> < </button>
      <button [disabled]="!voorspelling.valid" ion-button type="submit" >Opslaan</button>
      <button [disabled]="kiesAfvaller" ion-button type="button" outline (click)="setNextState()"> > </button>
    </div>
  </form>

  <!--<pre>mol: {{activeAfvaller | json}}</pre>-->
</ion-content>
